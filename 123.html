<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tron Quantum Pulse - Click Mining</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(to bottom, #000022, #220044);
            color: #fff;
            font-family: 'Orbitron', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        .neon {
            text-shadow: 0 0 10px #EC4899, 0 0 20px #EC4899, 0 0 30px #06B6D4;
        }

        #mining-crystal {
            width: 220px;
            height: 220px;
            background: radial-gradient(circle at 30% 30%, #ffffff22, transparent 60%), 
                        url('https://images.stockcake.com/public/e/e/7/ee7fb8f0-002f-459c-ae4f-0721a308b825_large/magical-neon-portal-stockcake.jpg') center/cover;
            border-radius: 50%;
            margin: 40px 20px 20px;
            box-shadow: 0 0 60px #8B5CF6, inset 0 0 30px #06B6D4;
            cursor: pointer;
            position: relative;
            transition: transform 0.1s;
            user-select: none;
        }

        #mining-crystal:active {
            transform: scale(0.92);
        }

        .particles { position: absolute; inset: 0; pointer-events: none; }

        .particle {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #EC4899;
            border-radius: 50%;
            pointer-events: none;
            animation: explode 0.8s forwards;
        }

        @keyframes explode {
            0% { transform: translate(0,0) scale(1); opacity: 1; }
            100% { transform: translate(var(--dx), var(--dy)) scale(0); opacity: 0; }
        }

        .section {
            background: rgba(20,20,50,0.7);
            border: 1px solid #06B6D4;
            border-radius: 16px;
            padding: 16px;
            width: 90%;
            max-width: 380px;
            margin: 12px;
            text-align: center;
            box-shadow: 0 0 20px rgba(6,182,212,0.3);
        }

        .progress-bar {
            height: 12px;
            background: #222;
            border-radius: 6px;
            overflow: hidden;
            margin: 12px 0;
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #8B5CF6, #EC4899);
            transition: width 0.4s ease-out;
        }

        .button {
            background: linear-gradient(45deg, #06B6D4, #EC4899);
            border: none;
            color: white;
            padding: 14px 28px;
            font-size: 18px;
            border-radius: 50px;
            margin: 8px;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(236,72,153,0.6);
            transition: transform 0.15s;
        }

        .button:active { transform: scale(0.96); }

        #boost-modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.85);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .modal-content {
            background: #111133;
            border: 2px solid #8B5CF6;
            border-radius: 16px;
            padding: 24px;
            width: 90%;
            max-width: 360px;
            text-align: center;
            position: relative;
        }

        .close { position: absolute; top: 12px; right: 16px; font-size: 28px; cursor: pointer; }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(10,10,30,0.9);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            border-top: 1px solid #06B6D4;
        }
    </style>
</head>
<body>

    <h1 class="neon" style="margin: 20px 0 0;">Tron Quantum Pulse</h1>

    <div id="mining-crystal" onclick="tapCrystal()">
        <div class="particles" id="particle-container"></div>
    </div>

    <div class="section">
        <h2>Баланс: <span id="balance">0.00000000</span> TRX</h2>
        <p>Мощность: <span id="hashrate">11.0</span> GH/s ⚡</p>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <p>Прогресс: <span id="progress-text">0%</span></p>
    </div>

    <div class="section">
        <button class="button" onclick="claim()">Claim</button>
        <button class="button" onclick="openBoost()">Boost</button>
    </div>

    <div class="section">
        <h2>Приглашай друзей</h2>
        <input id="ref-link" value="t.me/yourbot?start=123456" readonly style="width:100%; padding:10px; background:#000; color:#0ff; border:1px solid #0ff; border-radius:8px; margin:8px 0;">
        <button class="button" onclick="copyRefLink()">Скопировать</button>
    </div>

    <!-- Модалка Boost / Депозит -->
    <div id="boost-modal">
        <div class="modal-content">
            <span class="close" onclick="closeBoost()">×</span>
            <h2>Boost Mining Power</h2>
            <p>Отправь TRX / USDT-TRC20 на адрес:</p>
            <p style="word-break:break-all; background:#000; padding:12px; border-radius:8px; margin:16px 0;">
                TQabc123...xyz789 (твой реальный адрес)
            </p>
            <p>После перевода вставь TxID ниже:</p>
            <input id="txid-input" placeholder="TxID транзакции" style="width:100%; padding:12px; margin:8px 0; background:#111; color:#fff; border:1px solid #06B6D4; border-radius:8px;">
            <button class="button" onclick="submitTxID()">Отправить TxID</button>
        </div>
    </div>

    <div class="bottom-nav">
        <div>Home</div>
        <div>Wallet</div>
        <div>Friends</div>
        <div>Missions</div>
    </div>

    <script>
        let balance = 0;
        let hashrate = 11.0;
        let progress = 0;
        const tapValue = 0.000012;     // + за тап
        const passivePerSec = 0.000008; // пассив в секунду

        const balanceEl = document.getElementById('balance');
        const hashrateEl = document.getElementById('hashrate');
        const progressFill = document.getElementById('progress-fill');
        const progressText = document.getElementById('progress-text');
        const particleContainer = document.getElementById('particle-container');

        // Пассивный майнинг
        setInterval(() => {
            balance += passivePerSec;
            updateUI();
        }, 1000);

        function tapCrystal() {
            balance += tapValue;
            progress = Math.min(100, progress + 1.2); // быстрее от кликов
            updateUI();

            // Эффект частиц при тапе
            for (let i = 0; i < 12; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                const angle = Math.random() * Math.PI * 2;
                const dist = 60 + Math.random() * 80;
                p.style.setProperty('--dx', `${Math.cos(angle) * dist}px`);
                p.style.setProperty('--dy', `${Math.sin(angle) * dist}px`);
                p.style.left = '50%';
                p.style.top = '50%';
                particleContainer.appendChild(p);
                setTimeout(() => p.remove(), 900);
            }
        }

        function updateUI() {
            balanceEl.textContent = balance.toFixed(8);
            progressFill.style.width = `${progress}%`;
            progressText.textContent = `${Math.floor(progress)}%`;
        }

        function claim() {
            if (balance < 0.001) return alert('Мало для Claim');
            alert(`Claimed ${balance.toFixed(8)} TRX!`);
            balance = 0;
            progress = 0;
            updateUI();
        }

        function openBoost() {
            document.getElementById('boost-modal').style.display = 'flex';
        }

        function closeBoost() {
            document.getElementById('boost-modal').style.display = 'none';
        }

        function submitTxID() {
            const txid = document.getElementById('txid-input').value.trim();
            if (!txid) return alert('Введи TxID');
            alert(`TxID ${txid} отправлен на проверку! После подтверждения мощность вырастет.`);
            closeBoost();
            // В реале → axios.post('/deposit', { txId: txid, userId })
        }

        function copyRefLink() {
            const link = document.getElementById('ref-link');
            link.select();
            document.execCommand('copy');
            alert('Ссылка скопирована!');
        }

        // Инициализация
        updateUI();
    </script>
</body>
</html>